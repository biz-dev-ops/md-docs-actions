name: md-docs GitHub pages

description: Deploy generated website to GitHub pages

inputs:

  theme: 
    description: Path to a theme css file.
    required: false

  github_token:
    description: Github token generated by the runner.
    required: true

  destination_directory:
    description: Directory where to deploy the generated website. Defaults to empty which is the root.
    required: false

runs:

  using: composite

  steps:
    
    - name: Build
      uses: ../build
      with:
          theme: ${{ inputs.theme }}

    - name: Deploy to GitHub pages
      uses: peaceiris/actions-gh-pages@v3
      with:
        github_token: ${{ inputs.github_token }}
        publish_dir: dist
        destination_dir: ${{ inputs.destination_directory }}
